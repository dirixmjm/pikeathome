<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<title>DomoWeb</title>
<link rel="stylesheet" type="text/css" href="index.css" />
<if variable="form.add">
 <module add="" name="&form.name;" module="&form.module;" />
</if>
</head>

<body>
<div class="content">
 <div class="menu" ><include file="menu.dml" />
 </div>
 <div class="head" >Settings</div>
 <div class="modules">
  &nbsp;<h3>Modules</h3>
  <emit source="modules">
  &nbsp;<a href="/configuration/module.dml?name=&_.name;">&_.name;</a><br />
  </emit>
 </div>

 <div class="main">
 <table border="1" >
  <emit source="compilemodules" compile="&form.compile;" >
  <tr ><td align='left' ><a href="/addmodule.dml?module=&_.name;">&_.name;</a></td><td>
  <if variable="_.error">
  <font color="red">&_.error;</font>
  </if>
  </td></tr>
  </emit>
 </table>
 <a href="/addmodule.dml?compile=1">Compile</a> 
  <if variable="form.module">
   <form method="GET">
  <input type="hidden" name="module" value="&form.module;" />
  <input type="hidden" name="edit" value="&form.edit;" />
  <table>
   <tr><th>Name</th><td>
        <input type="text" name="name" />
   </td><td>Reference Name of the Module</td></tr>
   <emit source="moduleparameters" module="&form.module;" new="" >
      <tr><th>&_.key;</th>
      <if variable="_.type = 1">
      <td align="left">
        <input type="text" name="&_.key;" value="&_.default;" />
      </td><td>&_.description;</td>
      </if>
      <if variable="_.type = 2">
       <td align="left" ><select name="&_.key;">
        <if variable="_.default = 1">
         <option value="1" selected="">On</option>
         <option value="0" >Off</option>
        </if>
        <if variable="_.default = 0">
         <option value="1" >On</option>
         <option value="0" selected="" >Off</option>
        </if>
       </select>
      </td><td>&_.description;</td>
      </if>
      </tr>
   </emit>
      <tr><td></td><td align="left" >
    <input type="submit" value="Add" name="add" />
   </td></tr>
  </table>
  </form>
  </if>
 </div>
 </if>
</div>
</body>
</html>
